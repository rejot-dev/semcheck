---
import Code from "~/components/themed-code.astro";
import configCode from "../code-samples/config.yaml?raw";
import runCode from "../code-samples/run.sh?raw";
---

<div>
  <h2 id="quickstart" class="mb-8 text-3xl font-bold text-gray-900">Quickstart</h2>

  <div class="space-y-4">
    <div class="space-y-4">
      <h3 class="text-lg font-medium text-gray-900">Install</h3>
      <Code code="go install github.com/rejot-dev/semcheck@latest" lang="bash" />
    </div>

    <div class="space-y-4">
      <h3 class="text-lg font-medium text-gray-900">Initialize</h3>
      <Code code="semcheck -init" lang="bash" />
    </div>

    <div class="space-y-4">
      <h3 class="text-lg font-medium text-gray-900">Link Specs to Implementation</h3>
      <p class="text-gray-600">
        Semcheck supports two ways to link specifications to implementation files. Both can be used
        together.
      </p>

      <div class="space-y-3">
        <h4 class="text-md font-medium text-gray-800">1. Inline spec references</h4>
        <p class="text-sm text-gray-600">
          Link specifications directly in your code using special comment syntax:
        </p>
        <Code
          code=`# semcheck:rfc(8259)
class JsonParser:
    def parse(self, data: bytes):
        # ... implementation`
          lang="python"
        />
        <p class="text-sm text-gray-600">Available commands:</p>
        <Code
          code=`semcheck:file(./local/spec.md)  # Link repo local files
semcheck:url(https://example.com/docs/api)  # Link to remote documents
semcheck:rfc(8259)  # Shorthand for linking to RFC documents on datatracker.ietf.org

# Target specific sections using fragments:
semcheck:url(https://www.rfc-editor.org/rfc/rfc7946.html#section-3.1.1)  # HTML sections
semcheck:file(./docs/api-spec.md#authentication)  # In Markdown refer to heading text directly
semcheck:rfc(8259#section-8.3)  # Shorthand for https://datatracker.ietf.org/doc/html/rfc8259#section-8.3`
          lang="python"
        />
      </div>

      <div class="space-y-3">
        <h4 class="text-md font-medium text-gray-800">2. Rules</h4>
        <p class="text-sm text-gray-600">
          Define rules in your <code>semcheck.yaml</code> configuration that tie specification files
          to implementation files:
        </p>
        <Code code={configCode} lang="yaml" />
      </div>
    </div>

    <div class="space-y-4">
      <h3 class="text-lg font-medium text-gray-900">Run</h3>
      <Code code={runCode} lang="bash" />
    </div>
  </div>
</div>
